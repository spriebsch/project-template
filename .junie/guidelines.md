# Containerization

PHP and development tools are installed in a container.

Use

```bash
php-devbox php <script>
```

to execute PHP scripts inside the container.

# Running PHP Code

To run PHP code at the command line, use 

```bash
php-devbox php <script.php>
```

# Update Autoloaders

Use 

```bash
php-devbox composer dump
```

to update autoloaders.

## Run unit tests

After each task, run all unit tests.
If there are failing tests, fix the production code.

To run all unit tests, use 

```bash
php-devbox phpunit
```

# Static Code Analysis

After each task, run 

```bash
php-devbox composer static-analysis
```

to perform static code analysis with PHPStan.
If errors occur, fix them. 

# Coding Guidelines

## Project Structure

Source code is located in `src/` directory
Test files are located in `tests/` directory

Do not edit autoload.php files.
Do not edit files the vendor directory.
Do not edit .gitignore.
Do not edit phpunit.xml.
Do not edit phpstan.neon.
Do not exit composer.json or composer.lock.

## Code Quality

Make every concrete class final.
Make classes readonly whenever possible.

Minimum visibility: make every method private by default.
Only make methods public that need to be called from the outside.

Prefer sprintf over variable expansion.

## Naming

Use descriptive test method names.

## Documentation

Prefer attributes over docblocks.
Do not create docblocks that are redundant with the type hints.
Only use docblocks to document exceptions thrown.

## Testing

Test edge cases and error conditions.

Use the most specific assertion possible.
Use one logical assertion per test method.

Avoid test dependencies.

# General Rules

Never report changes in files or directories that are listed in .gitignore.

Do not edit this file.
